function scrollToItem(e){var s=$(e).attr("href").slice(1),t=$(`#${s}`),o=$(".js-header").outerHeight()+20,r=t.offset().top-o-20;return $("body,html").animate({scrollTop:r},600),!1}function moveElem(){var e=$(".js-remove--from").html();return $(".js-remove--to").html(e),!1}$(document).ready(function(){var e=$(".js-header-burger"),s=$(".js-header-toggle nav");(e.on("click",function(){$(this).toggleClass("open"),$(".header").toggleClass("open"),s.toggleClass("open"),$("body").toggleClass("fixed-position")}),$(".popup-btn").click(function(){$(".js-header-burger").removeClass("open"),$(".js-header").removeClass("open"),$(".popup").addClass("open-popup"),$("body").addClass("fixed-position")}),$(".js-close").click(function(){$(".popup").removeClass("open-popup"),$("body").removeClass("fixed-position")}),$(window).width()<=1023)&&$(".drop-wrap").on("click",function(){$(this).toggleClass("open-drop")});$(".header__menu-item a").click(function(){$("a.active").removeClass("active"),$(this).addClass("active")}),$(".js-to-item").on("click",function(){scrollToItem($(this)),$(".js-header-burger").removeClass("open"),$(".header").removeClass("open"),$(".js-header-toggle nav").removeClass("open"),$(".header__burger-letter").removeClass("open"),$(".header__nav").removeClass("open"),$("body").removeClass("fixed-position")}),$(window).scroll(function(){$(window).scrollTop()>1?$(".js-header").addClass("is-scroll"):$(".js-header").removeClass("is-scroll"),$("section").each(function(e,s){var t=$(s).offset().top-100,o=t+$(s).height(),r=$(window).scrollTop(),a=$(s).attr("id");r>t&&r<o&&($("a.active").removeClass("active"),$('a[href="#'+a+'"]').addClass("active"))})}),$(".js-slider").length&&$(".js-slider").slick({lazyLoad:"ondemand",dots:!0,arrows:!1,slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:2e3})}),moveElem();var msg=document.querySelector(".msg"),gsapMsg=gsap.to(".msg",.25,{autoAlpha:1,y:-40,ease:Expo.inOut,paused:!0}),arrInput=document.querySelectorAll(".aInput");function send(e,s){e.preventDefault?e.preventDefault():e.returnValue=!1;for(var t=0,o=arrInput.length;t<o;t++)arrInput[t].classList.remove("inputerror");e.target.querySelector("button").disabled=!0,showMsg("Wait. Sending...","#b1b1b1");var r=new XMLHttpRequest;r.open("POST",s,!0),r.onload=function(){if(e.target.querySelector("button").disabled=!1,r.status>=200&&r.status<400){const s=JSON.parse(this.response);"success"===s.result?(showMsg("Message send","#36AE46","1000"),setTimeout(function(){document.getElementsByClassName("msg")[0].style.opacity="0"},2e3),e.target.reset()):"email"===s.result&&(showMsg("Error. Need email","#DC352F"),setTimeout(function(){document.getElementsByClassName("msg")[0].style.opacity="0"},2e3),document.querySelector("#email").classList.add("inputerror"))}else showMsg("Server error. number: "+r.status,"#DC352F"),setTimeout(function(){document.getElementsByClassName("msg")[0].style.opacity="0"},2e3)},r.onerror=function(){showMsg("Error sending request","#DC352F")},r.send(new FormData(e.target))}function showMsg(e,s){msg.innerText=e,msg.style.background=s,gsapMsg.restart()}for(var i=0,count=arrInput.length;i<count;i++)arrInput[i].addEventListener("focus",function(){this.nextElementSibling.classList.add("active")}),arrInput[i].addEventListener("blur",function(){!1===this.value&&this.nextElementSibling.classList.remove("active")});window.onload=function(){gsap.timeline().to("#form",.7,{autoAlpha:1,y:0,ease:Expo.inOut})};